(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{1692:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"setting"},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("b-form",{staticClass:"p-3"},[n("p",[t._v("当前账户："+t._s(t.account))]),n("p",[t._v("需连接管理员账户才能设置")]),n("p",[t._v("管理员账户: 0x2780...4d67")]),n("b-form-group",{attrs:{id:"input-group-2",label:"兑换比例","label-for":"input-2",description:"默认100"}},[n("b-form-input",{attrs:{id:"input-2",required:"",placeholder:"兑换比例"},model:{value:t.rate,callback:function(e){t.rate=e},expression:"rate"}}),n("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.changeRate}},[t._v("设置")])],1),n("b-form-group",{attrs:{id:"input-group-2",label:"手续费","label-for":"input-3",description:"百分比"}},[n("b-form-input",{attrs:{id:"input-3",required:"",placeholder:"手续费"},model:{value:t.fee,callback:function(e){t.fee=e},expression:"fee"}}),n("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.changeFee}},[t._v("设置")])],1)],1)],1)])])])},c=[],a=n("1da1"),o=(n("96cf"),n("a46f")),i={name:"Manager",data:function(){return{account:"",privateKey:"",contractAddress:o["a"].btcAddress,btcContract:new web3.eth.Contract(o["a"].btcAbi,o["a"].btcAddress),tokenContract:new web3.eth.Contract(o["a"].tokenAbi,o["a"].tokenAddress),rate:"",fee:"",interval:3}},created:function(){var t=this;"undefined"!==typeof window.ethereum&&(this.getAccount(),ethereum.on("accountsChanged",(function(e){t.getAccount()})),ethereum.on("chainChanged",(function(e){t.getAccount()})))},methods:{getAccount:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("undefined"!==typeof window.ethereum){e.next=3;break}return console.error("metamask not installed"),e.abrupt("return","");case 3:return e.next=5,ethereum.request({method:"eth_requestAccounts"});case 5:n=e.sent,t.account=n[0];case 7:case"end":return e.stop()}}),e)})))()},changeFee:function(){if(!this.checkAccount())return!1;var t=this.fee/100*1e4;this.tokenContract.methods.changeFee(t).send({from:this.account}).then((function(t){alert("设置成功")})).error((function(t){alert("设置失败")}))},changeRate:function(){if(!this.checkAccount())return!1;this.tokenContract.methods.changeRate(this.rate).send({from:this.account}).then((function(t){alert("设置成功")})).error((function(t){alert("设置失败")}))},changeInterval:function(){if(!this.checkAccount())return!1},checkAccount:function(){return""!==this.account||(alert("账户为空！"),!1)}},computed:{hideAccount:function(){return""===this.account?"":this.account.substr(0,6)+"..."+this.account.substr(-4,4)}}},u=i,s=n("2877"),l=Object(s["a"])(u,r,c,!1,null,"695754c0",null);e["default"]=l.exports},f820:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("This is an about page")])])}],a=n("2877"),o={},i=Object(a["a"])(o,r,c,!1,null,null,null);e["default"]=i.exports}}]);
//# sourceMappingURL=about.c02bf985.js.map