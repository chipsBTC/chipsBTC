{"version":3,"sources":["webpack:///./src/views/Manager.vue?96a3","webpack:///src/views/Manager.vue","webpack:///./src/views/Manager.vue?5624","webpack:///./src/views/Manager.vue","webpack:///./src/views/About.vue?aa17","webpack:///./src/views/About.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","account","attrs","model","value","callback","$$v","rate","expression","on","changeRate","fee","changeFee","staticRenderFns","name","data","privateKey","contractAddress","btcContract","web3","eth","Contract","tokenContract","interval","window","ethereum","getAccount","methods","checkAccount","_fee","send","alert","changeInterval","computed","hideAccount","substr","component","_m","script"],"mappings":"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","file":"js/about.c02bf985.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setting\"},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('b-form',{staticClass:\"p-3\"},[_c('p',[_vm._v(\"当前账户：\"+_vm._s(_vm.account))]),_c('p',[_vm._v(\"需连接管理员账户才能设置\")]),_c('p',[_vm._v(\"管理员账户: 0x2780...4d67\")]),_c('b-form-group',{attrs:{\"id\":\"input-group-2\",\"label\":\"兑换比例\",\"label-for\":\"input-2\",\"description\":\"默认100\"}},[_c('b-form-input',{attrs:{\"id\":\"input-2\",\"required\":\"\",\"placeholder\":\"兑换比例\"},model:{value:(_vm.rate),callback:function ($$v) {_vm.rate=$$v},expression:\"rate\"}}),_c('b-button',{attrs:{\"type\":\"button\",\"variant\":\"primary\"},on:{\"click\":_vm.changeRate}},[_vm._v(\"设置\")])],1),_c('b-form-group',{attrs:{\"id\":\"input-group-2\",\"label\":\"手续费\",\"label-for\":\"input-3\",\"description\":\"百分比\"}},[_c('b-form-input',{attrs:{\"id\":\"input-3\",\"required\":\"\",\"placeholder\":\"手续费\"},model:{value:(_vm.fee),callback:function ($$v) {_vm.fee=$$v},expression:\"fee\"}}),_c('b-button',{attrs:{\"type\":\"button\",\"variant\":\"primary\"},on:{\"click\":_vm.changeFee}},[_vm._v(\"设置\")])],1)],1)],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"setting\">\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n          <b-form class=\"p-3\">\r\n<!--            <b-form-group id=\"input-group-2\" label=\"私钥\" label-for=\"input-1\" :description=\"hideAccount\">-->\r\n<!--              <b-form-input-->\r\n<!--                  id=\"input-1\"-->\r\n<!--                  v-model=\"privateKey\"-->\r\n<!--                  @input=\"getAccount\"-->\r\n<!--                  required-->\r\n<!--                  placeholder=\"开奖者钱包私钥\"-->\r\n<!--                  style=\"width: 10rem\"-->\r\n<!--              ></b-form-input>-->\r\n<!--            </b-form-group>-->\r\n            <p>当前账户：{{ account }}</p>\r\n            <p>需连接管理员账户才能设置</p>\r\n            <p>管理员账户: 0x2780...4d67</p>\r\n            <b-form-group id=\"input-group-2\" label=\"兑换比例\" label-for=\"input-2\" description=\"默认100\">\r\n              <b-form-input\r\n                  id=\"input-2\"\r\n                  v-model=\"rate\"\r\n                  required\r\n                  placeholder=\"兑换比例\"\r\n              ></b-form-input>\r\n              <b-button type=\"button\" variant=\"primary\" @click=\"changeRate\">设置</b-button>\r\n            </b-form-group>\r\n\r\n            <b-form-group id=\"input-group-2\" label=\"手续费\" label-for=\"input-3\" description=\"百分比\">\r\n              <b-form-input\r\n                  id=\"input-3\"\r\n                  v-model=\"fee\"\r\n                  required\r\n                  placeholder=\"手续费\"\r\n              ></b-form-input>\r\n              <b-button type=\"button\" variant=\"primary\" @click=\"changeFee\">设置</b-button>\r\n            </b-form-group>\r\n\r\n<!--            <b-form-group id=\"input-group-4\" label=\"回合时间\" label-for=\"input-4\" description=\"分钟\">-->\r\n<!--              <b-form-input-->\r\n<!--                  id=\"input-4\"-->\r\n<!--                  v-model=\"interval\"-->\r\n<!--                  required-->\r\n<!--                  placeholder=\"回合时间\"-->\r\n<!--              ></b-form-input>-->\r\n<!--              <b-button type=\"button\" variant=\"primary\" @click=\"changeFee\">设置</b-button>-->\r\n<!--            </b-form-group>-->\r\n          </b-form>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Data from \"@/components/Contract\";\r\n\r\nexport default {\r\n  name: \"Manager\",\r\n  data() {\r\n    return {\r\n      account: '',\r\n      privateKey: '',\r\n      contractAddress: Data.btcAddress,\r\n      btcContract: new web3.eth.Contract(Data.btcAbi, Data.btcAddress),\r\n      tokenContract: new web3.eth.Contract(Data.tokenAbi, Data.tokenAddress), //代币合约对象\r\n      rate: '',\r\n      fee: '',\r\n      interval: 3\r\n    }\r\n  }\r\n  ,created() {\r\n    if (typeof window.ethereum !== 'undefined') {\r\n      this.getAccount()\r\n      ethereum.on('accountsChanged', accounts => {\r\n        // Time to reload your interface with accounts[0]!\r\n        this.getAccount()\r\n      });\r\n      ethereum.on('chainChanged', chainId => {\r\n        /* handle the chainId */\r\n        this.getAccount();\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    async getAccount() {\r\n      if (typeof window.ethereum === 'undefined') {\r\n        console.error('metamask not installed');\r\n        return '';\r\n      }\r\n      const accounts = await ethereum.request({method: 'eth_requestAccounts'});\r\n      this.account = accounts[0];\r\n    },\r\n    changeFee()\r\n    {\r\n      if (!this.checkAccount()) return false;\r\n      let _fee = this.fee / 100 * 10000\r\n      this.tokenContract.methods.changeFee(_fee).send({from: this.account}).then(res => {\r\n        alert('设置成功')\r\n      }).error(err => {\r\n        alert('设置失败')\r\n      })\r\n    },\r\n    changeRate(){\r\n      if (!this.checkAccount()) return false;\r\n      this.tokenContract.methods.changeRate(this.rate).send({from: this.account}).then(res => {\r\n        alert('设置成功')\r\n      }).error(err => {\r\n        alert('设置失败')\r\n      })\r\n    },\r\n    changeInterval()\r\n    {\r\n      if (!this.checkAccount()) return false;\r\n    },\r\n    checkAccount()\r\n    {\r\n      if (this.account === '') {\r\n        alert('账户为空！')\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  },\r\n  computed: {\r\n    hideAccount() {\r\n      if (this.account === '') return ''\r\n      return this.account.substr(0, 6) + '...' + this.account.substr(-4, 4)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Manager.vue?vue&type=template&id=695754c0&scoped=true&\"\nimport script from \"./Manager.vue?vue&type=script&lang=js&\"\nexport * from \"./Manager.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"695754c0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('h1',[_vm._v(\"This is an about page\")])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=1ae8a7be&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}